<h2>Setup Eclipse</h2>
<ol start="1">
	<li>Download the latest Eclipse for Mac <a href="http://www.eclipse.org/downloads/?osType=macosx">Download Eclipse for Mac OS X Cocoa</a>
		<ol>
			<li>Choose the right eclipse package (IDE for Java Developers 32 or 64 bit and for Mac OS Cocoa)</li>
			<li>I'm using Eclipse Java EE IDE for Web Developers (the second on the list)</li>
		</ol>
	</li>
	<li>Open Finder and go to your download folder, find eclipse-java-helios-macosx-cocoa.tar, double click and you'll see a folder named "eclipse"</li>
	<li>Drag the eclipse folder to your /Applications folder</li>
	<li>(Optional) Open the eclipse folder under the /Application folder and drag the eclipse icon to your dock.</li>
	<li>Launch eclipse at set your workspace.</li>
</ol>

<h2>Setup SVN (since the client is already installed on Mac OS X I'll just skip this, but you need to setup it up under eclipse)</h2>

<h2>Setup Maven</h2>
<ul>
	<li>Automated way (you need MacPorts installed on your system to do this, for more information on installing MacPorts please refer to http://macports.org)
		<ul>
			<li>on your shell <code>sudo port install maven2</code></li>
		</ul>
	</li>
	<li>Manual Way
		<ol>
			<li>Download from <a href="http://apache.linux-mirror.org/maven/binaries/apache-maven-2.2.1-bin.tar.gz">http://apache.linux-mirror.org/maven/binaries/apache-maven-2.2.1-bin.tar.gz</a></li>
			<li>Open a Finder window, goto your Downloads folder and double-click apache-maven-2.2.1-bin.tar and it will create a new folder named apache-maven-2.2.1</li>
			<li>Move the folder apache-maven-2.2.1 to your /Library folder</li>
			<li>Open a shell and create a symlink to your /usr/local folder <code>sudo ln –s /Library/apache-maven-2.2.1/usr/local/maven</code></li>
		</ol>
	</li>
	<li>Add the environment variables
		<ol>
		    <li>copy the <a href="settings.xml">(once you clicked the link, it should be automatically sent to your download folder)settings.xml</a> file to your ~/.m2/settings.xml</li>
			<li><code>export M2_HOME=/usr/local/maven</code></li>
			<li><code>export M2=$M2_HOME/bin</code></li>
			<li><code>export PATH=$M2:$PATH</code></li>
		</ol>
	</li>
	<li>Run and test maven
	<ol>
		<li><code>mvn --version</code>
			<pre>
	        LM-SJN-00710744:~ equebral$ mvn --version
	        Apache Maven 2.2.1 (r801777; 2009-08-06 12:16:01-0700)
	        Java version: 1.6.0_22
	        Java home: /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home
	        Default locale: en_US, platform encoding: MacRoman
	        OS name: "mac os x" version: "10.6.6" arch: "x86_64" Family: "mac"
	        LM-SJN-00710744:~ equebral$ 
	        </pre>
        </li>
	</ol>
	</li>


	<h2>Setup Apache</h2>
	<ol start="1">
		<li>Goto http://tomcat.apache.org/download-55.cgi, select a mirror and download the core on the tar.gz archive format</li>
		<li>Open Finder and goto your Download Folder and double click apache-tomcat-5-x.x.tar and it will create a new Folder names apache-tomcat-5.x.x</li>
		<li>Move that folder to /Library</li>
		<li>Test tomcat
			<ol start="1">
				<li>change directory to /Library/&lt;your tomcat directory>/bin-> mine is /Library/apache-tomcat-5.5.31/bin</li>
				<li>Goto /usr/local -> <code>cd /usr/local</code></li>
				<li>Create a symlink on /usr/local directory that points to /Library/apache-tomcat5.5.31 -> <code>sudo ln –s /Library/apache-tomcat-5.5.31 tomcat5</code></li>
				<li>Goto bin directory -> <code>cd bin</code></li>
				<li>Execute the startup shell -> <code>./startup.sh</code></li>
				<li>open your browser and enter http://localhost:8080 at the url bar</li>
				<li>You should see the tomcat welcome screen <img src="tomcat%20welcome%20screen.png" alt=""></li>
				<li>Setting up Tomcat to use SSL (<em style="color:red;">Make sure this is working before you continue</em>)
					<ol start="1">
						<li>Generate a key <code>keytool-genkey -alias tomcat -keyalg RSA -keystore ~/.keystore</code></li>
						<li>Edit your server.xml in /usr/local/tomcat5/conf/ <code>vi /usr/local/tomcat5/conf/server.xml</code></li>
						<li>Make sure that the listener for the Apr has the SSLEngine="off" 
							<pre>&lt;Listener className="org.apache.catalina.core.AprLifecycleListener" SSLEngine="off" /></pre>
						</li>
						<li>On the Connector definition <pre>&lt;!-- Define a SSL HTTP/1.1 Connector on port 8443 --></pre></li>
						<li>Find the entry for the port 8443 and replace it with the entry 
							<pre> 
&lt;Connector clientAuth="false" debug="0"
	keystoreFile="${user.home}/.keystore"
	keystorePass="&lt;replace this with your password&gt;"
	keystoreType="JKS" maxSpareThreads="75" maxThreads="150"
	minSpareThreads="25" port="8443"
	protocol="org.apache.coyote.http11.Http11Protocol" scheme="https"
	secure="true" sslProtocol="SSL" />
							</pre>
						</li>
					</ol>
				</li>
				<li>Run your server and test it using https://localhost:8443, you should see the same web page above.</li>
				<li><em style="color:red;">Note:</em> It is better to use the APR or Apache Portable runtime because it's a lot faster but is not necessary.  Please let me know if you want some specific detail on how to install and configure it so that tomcat will use it.  This feature is a little bit more complex as it needs the tomcat-native libraries and the Mac OS Development tools to satisfy this dependency.</li>
			</ol>
		</li>
	</ol>
</ul>

<h2>Configuring Subversion with Eclipse</h2>
  <ol start="1">
  	<li>Launch eclipse and goto Help -> Install new Software <br><img src="eclipse-install-new-software.png"></li>
  	<li>Enter svn – http://subclipse.tigris.org/update_1.6.x on the work with text field.<br><img src="eclipse-svn-available-software.png"></li>
  	<li>Hit next and agree to the teerms of the Eclipse Public License till you hit Finish</li>
  	<li>Restart Eclipse</li>
  </ol>

<h2>Configuring Maven with Eclipse</h2>
  <ol start="1">
    <li>Launch eclipse and goto Help -> Install New Software</li>
    <li>On the work with field, enter maven - http://m2eclipse.sonatype.org/sites/m2e/<br><img src="maven-eclipse-available-software.png/"></li>
    <li>Hit next and agree with the terms of Eclipse Public License till you hit Finish</li>
    <li>Restart eclipse</li>
    <li>Goto Eclipse -> Preferences -> Maven</li>
  	<li>On Installations please make sure you are using the embed<br><img src="maven-eclipse-installation.png"></li>
  	<li>Goto User Settings and enter the location of the settings.xml and thelocal repository.  You can find the settings.xml on the SetupDevEnvironment for Windows<br><img src="maven-eclipse-user-settings.png"></li>
  </ol>
  
<h2>Configure Tomcat with Eclipse</h2>
  <ol start="1">
  	<li>Goto Window -> Show View -> Servers</li>
  	<li>Click New -> Server<br><img src="tomcat-eclipse-add-server.png/"></li>
  	<li>Select Server, Choose Tomcat v5.5 Server<br><img src="tomcat-eclipse-addserver.png"></li>
  	<li>Click configure runtime environment</li>
  	<li>Edit tomcat installation directory to /usr/local/tomcat5<br><img src="http://webdev.paypal.com/resources/sparta-information/sparta-development-environment-setup-for-mac-os-x/tomcat-eclipse-server-environment.png"></li>
  	<li>Click finish</li>
  	<li>Start the server</li>
  </ol>
  
<h2>Sparta Specific Configuration</h2>
  <h3>Webscr cross authentication</h3>
  <ol start="1">
  	<li>Add localhost.paypal.com to your hosts</li>
  	<li><code>vi /etc/hosts</code></li>
  	<li>add this line <code>127.0.0.1	localhost.paypal.com</code></li>
  	<li>clear the dns cache <code>dscacheutil -flushcache</code></li>
  </ol>
  
  <h3>Configure Maven</h3>
  <ol start="1">
  	<li>Goto SVN Repository Exploring -> Window->Perspective->Other...<br><img src="eclipse-svn-repository-exploring-menu.png"><br>or<img src="eclipse-svn-exploring-alternative.png"></li>
  	<li>Choose SVN Repository Exploring on the dialog box<br><img src="eclipse-svn-repository-exploring-dialog.png"></li>
  	<li>Create a new repository location, enter -> http://10.253.32.23/svn/projects/helix/temp/webdev/SWT/trunk<br><img src="eclipse-svn-exploring-view.png"></li>
  	<li>Right click and choose checkout, follow and instructions and hit finish</li>
  	<li>On the newly created project, right click -> Run As -> Maven Build… -> Enter compile on the goals</li>
  	<li>You'll see an error here caused by the tools.jar and follow the steps how to fix it.  This is because of the Java Library that we are using in Mac OS
  	  <ul>
  	    <li>Edit the file /Library/maven.repo/com/paypal/infra/PP-ICU4J3.6/1.0/PP-ICU4J3.6-1.0.pom and change the entry below from
  	      <pre>
&lt;dependency>
	&lt;groupId>com.sun&lt;/groupId>
	&lt;artifactId>tools&lt;/artifactId>
	&lt;version>1.4.2&lt;/version>
	&lt;scope>system&lt;/scope>
	<em style="color:red;">&lt;systemPath>${java.home}/../lib/tools.jar&lt;/systemPath></em>
&lt;/dependency>
  	      </pre>
  	     </li>
  	     <li>To
  	       <pre>
&lt;dependency>
	&lt;groupId>com.sun&lt;/groupId>
	&lt;artifactId>tools&lt;/artifactId>
	&lt;version>1.4.2&lt;/version>
	&lt;scope>system&lt;/scope>
	<em style="color:red;">&lt;systemPath>${java.home}/../Classes/classes.jar&lt;/systemPath></em>
&lt;/dependency>
  	       </pre>
  	     </li>
  	  </ul>
  	</li>
  	<li>Repeat line 4 and your project should successfully build</li>
  	<li>Add your project to your tomcat server</li>
  	<li>Hit Run Server and test the page by going to https://localhost.paypal.com:8443/webapps/SWTDemo – this is just a test page</li>
  </ol>
  
<h2>More information</h2>
<p>Please email <a href="mailto:equebral@paypal.com">me</a> if you get into some problems and possibly solution so we can provide more information here</p>


<h2>Problems and Solutions</h2>
  <h3>Since our Mac OS X are different from each other and we can't provide a singe Image to start with, we might get different results in setting it up but here are some of the captured problems and solutions are provided</h3>
  <ul>
    <li>Subclipse JavaHL problem<br><img src="Screen%20shot%20JavaHL%20problem%202011-01.png"><br>if you run on a JavaHL problems, please follow the instruction in <a href="http://subclipse.tigris.org/wiki/JavaHL#head-5bf26515097c3231c1b04dfdb22c036bc511926b">JavaHL for Mac OS X</a></li>
  </ul>
  
  
  
  
<profiles>
   		<profile>
     		<id>default-tools</id>
     		<activation>
			<activeByDefault>true</activeByDefault>
        		<property>
          			<name>java.vendor</name>
          			<value>Sun Microsystems Inc.</value>
        		</property>
      		</activation>
      		<dependencies>
        		<dependency>
          			<groupId>com.sun</groupId>
          			<artifactId>tools</artifactId>
          			<version>1.4.2</version>
          			<scope>system</scope>
          			<systemPath>${java.home}/../lib/tools.jar</systemPath>
        		</dependency>
      		</dependencies>
    	</profile>
	<profile>
		<id>mac-os</id>
		<activation>
			<os>
       				<name>mac os x</name>
        			<family>mac</family>
        			<arch>x86_64</arch>
        			<version>10.6.6</version>
      			</os>
		</activation>
		<dependencies>
			<dependency>
				<groupId>com.sun</groupId>
				<artifactId>tools</artifactId>
				<version>1.4.2</version>
				<scope>system</scope>
				<systemPath>${java.home}/../Classes/classes.jar</systemPath>
			</dependency>
		</dependencies>
	</profile>
 </profiles>

  
   &lt;filter>
        &lt;filter-name>filterChainProxy&lt;/filter-name>
        &lt;filter-class>
            org.springframework.web.filter.DelegatingFilterProxy
        &lt;/filter-class>
    &lt;/filter>

    &lt;!-- This applies Spring Security to entire application. You could
        specify URL's if you wanted here -->
    &lt;filter-mapping>
        &lt;filter-name>filterChainProxy&lt;/filter-name>
        &lt;servlet-name>spring-mvc&lt;/servlet-name>
    &lt;/filter-mapping>
    
    &lt;filter-mapping>
        &lt;filter-name>filterChainProxy&lt;/filter-name>
        &lt;url-pattern>*.jsp&lt;/url-pattern>
    &lt;/filter-mapping>   
                